FROM ubuntu:24.04

ENV DEBIAN_FRONTEND=noninteractive

RUN apt-get update && apt-get install -y --no-install-recommends \
    clang llvm lldb \
    clang-tools clang-tidy clang-format \
    build-essential cmake git python3 python3-pip \
    bear pkg-config \
    python3-clang-17 libclang-17-dev \
    && rm -rf /var/lib/apt/lists/*

# symlink standard per libclang (comodo per Python)
RUN ln -s /usr/lib/llvm-17/lib/libclang.so /usr/lib/libclang.so || true

WORKDIR /workspace
CMD ["/bin/bash"]